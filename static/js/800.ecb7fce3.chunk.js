"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[800],{3800:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(4270),a=t(4565),o=t(2791),i=t(9434),s=t(3634),u=t(6015),c=t(885),l=t(4843),d=t(22),m=t(6916),h=function(e){return e.contacts.items},f=function(e){return e.contacts.error},x=function(e){return e.filter},b=(0,m.P1)([x,h],(function(e,n){var t=e.value.toLowerCase();return n.filter((function(e){var n,r=e.name;return null===r||void 0===r||null===(n=r.toLowerCase())||void 0===n?void 0:n.includes(t)}))})),v=(0,m.P1)([function(e){return e.contacts.isLoading},f],(function(e,n){return e&&!n})),p=(0,m.P1)([function(e){return e.contacts.isDeleting},f],(function(e,n){return e&&!n})),j=t(184),g=function(e){var n=e.id,t=e.name,r=e.number,m=(0,i.I0)(),h=(0,o.useState)(null),f=(0,c.Z)(h,2),x=f[0],b=f[1],v=(0,i.v9)(p),g=x&&v;return(0,j.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:300},children:[(0,j.jsxs)(a.Z,{children:[t,": ",r]}),(0,j.jsx)(l.Z,{size:"small",onClick:function(){b(n),m((0,s.GK)(n))},endIcon:(0,j.jsx)(d.Z,{}),loading:g,loadingPosition:"end",variant:"contained",children:"Delete"})]})},C=function(e){var n=e.message;return(0,j.jsxs)(a.Z,{variant:"h3",children:[n," "]})},Z=t(9311),y=t.n(Z),w=function(){return(0,j.jsx)("div",{children:(0,j.jsx)(y(),{color:"rgb(205, 92, 92)",size:15,speedMultiplier:.4,"aria-label":"Loading Spinner","data-testid":"loader"})})},k=function(){var e=(0,i.v9)(b),n=(0,i.v9)(v);return(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(a.Z,{variant:"h3",children:"Contacts"}),n?(0,j.jsx)(w,{}):e.length>0?(0,j.jsx)("ul",{children:e.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,j.jsx)("li",{children:(0,j.jsx)(g,{id:n,name:t,number:r})},n)}))}):(0,j.jsx)(C,{message:"There is no contact in Phonebook"})]})},S=t(7103),I=t(9541),P=t(9516),z=t(5705),L=t(5562),N=t.n(L);N().Notify.init({width:"500px",position:"center-top",closeButton:!0,fontFamily:"Comic Sans MS",fontSize:"24px",warning:{background:"rgb(255, 240, 245)",textColor:"rgb(40, 70, 219)",notiflixIconColor:"rgb(205, 92, 92)"}});var _=S.Ry().shape({name:S.Z_("Enter contact name").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces without spaces at the beginning and end of the name").required("Name is required"),number:S.Z_("Enter phone number").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Phone number is required")}),q=function(){var e=(0,i.I0)(),n=(0,i.v9)(h),t=(0,z.TA)({initialValues:{name:"",number:""},validationSchema:_,onSubmit:function(t,r){var a,o=r.resetForm,i=t.name,u=i.toLowerCase().trim();(a=u,n.find((function(e){return e.name.toLowerCase()===a})))?N().Notify.warning("".concat(i," is already in contacts")):(e((0,s.uK)(t)),o())}});return(0,j.jsxs)(u.Z,{component:"form",onSubmit:t.handleSubmit,sx:{display:"flex",flexDirection:"column",alignItems:"center",width:400,"& > :not(style)":{m:1.5}},children:[(0,j.jsx)(P.Z,{id:"name",name:"name",label:"Name",type:"text",autoComplete:"off",value:t.values.name,onChange:t.handleChange,error:t.touched.name&&Boolean(t.errors.name),helperText:t.touched.name&&t.errors.name}),(0,j.jsx)(P.Z,{id:"number",name:"number",label:"Number",type:"tel",autoComplete:"off",value:t.values.number,onChange:t.handleChange,error:t.touched.number&&Boolean(t.errors.number),helperText:t.touched.number&&t.errors.number}),(0,j.jsx)(I.Z,{color:"primary",variant:"contained",type:"submit",children:"Add contact"})]})},A=t(4808),T=function(){var e=(0,i.I0)(),n=(0,i.v9)(x);return(0,j.jsx)(P.Z,{label:"Filter by name",type:"text",autoComplete:"off",name:"filter",value:n.value,onChange:function(n){n.preventDefault();var t=n.currentTarget.value;e((0,A.M)(t))}})},D=function(){var e=(0,i.I0)();return(0,o.useEffect)((function(){e((0,s.yF)())}),[e]),(0,j.jsxs)("main",{children:[(0,j.jsx)(r.q,{children:(0,j.jsx)("title",{children:"Contacts"})}),(0,j.jsx)(a.Z,{variant:"h3",children:"Phonebook"}),(0,j.jsx)(q,{}),(0,j.jsx)(T,{}),(0,j.jsx)(k,{})]})}}}]);
//# sourceMappingURL=800.ecb7fce3.chunk.js.map